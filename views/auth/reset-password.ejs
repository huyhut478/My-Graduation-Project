<div class="auth-container">
  <div class="card card-450">
    <h1>Đặt lại mật khẩu</h1>

    <% if (typeof flash !== 'undefined' && flash.error && flash.error.length) { %>
      <div class="login-error-message">
        <% flash.error.forEach(msg => { %>
          <div class="error-text"><%= msg.replace(/\n/g, '<br/>') %></div>
        <% }) %>
      </div>
    <% } %>

    <% if (typeof flash !== 'undefined' && flash.success && flash.success.length) { %>
      <div class="login-success-message">
        <% flash.success.forEach(msg => { %>
          <div class="success-text"><%= msg %></div>
        <% }) %>
      </div>
    <% } %>

    <form action="/reset-password?_csrf=<%= csrfToken %>" method="post">
      <input type="hidden" name="email" value="<%= typeof email !== 'undefined' ? email : '' %>" />
      <div class="form-group">
        <label for="password">Mật khẩu mới</label>
        <input id="password" name="password" type="password" required placeholder="Mật khẩu mới" />
      </div>
      <div class="form-group">
        <label for="confirm_password">Xác nhận mật khẩu</label>
        <input id="confirm_password" name="confirm_password" type="password" required placeholder="Xác nhận mật khẩu" />
      </div>
      <button class="btn primary full" type="submit">Đặt lại mật khẩu</button>
    </form>

    <div class="login-footer">
      <p class="muted"><a href="/login">Quay lại đăng nhập</a></p>
    </div>
  </div>
</div>
